<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security6">
<body>

<nav th:fragment="navbar-fragment">
    <div class="container">
        <div class="navbar-content">

            <div class="nav-group">

                <a sec:authorize="hasRole('ADMIN')" th:href="@{/admin}" class="logo">Building Manager</a>
                <a sec:authorize="hasRole('COMPANY')" th:href="@{/company}" class="logo">Building Manager</a>
                <a sec:authorize="hasRole('EMPLOYEE')" th:href="@{/employee}" class="logo">Building Manager</a>
                <a sec:authorize="hasRole('RESIDENT')" th:href="@{/resident}" class="logo">Building Manager</a>

                <div class="nav-group nav-links">

                    <a sec:authorize="hasRole('ADMIN')" th:href="@{/admin}">Home</a>
                    <a sec:authorize="hasRole('COMPANY')" th:href="@{/company}">Home</a>
                    <a sec:authorize="hasRole('EMPLOYEE')" th:href="@{/employee}">Home</a>
                    <a sec:authorize="hasRole('RESIDENT')" th:href="@{/resident}">Home</a>
                    <a sec:authorize="hasRole('ADMIN')"
                       th:href="@{/admin/companies}">Manage Companies</a>
                    <a sec:authorize="hasRole('COMPANY')"
                       th:href="@{/company/buildings}">Manage Buildings</a>
                    <a sec:authorize="hasRole('COMPANY')"
                       th:href="@{/company/employees}">Manage Employees</a>
                    <a sec:authorize="hasRole('RESIDENT')"
                       th:href="@{/resident/fees}">My Fees</a>
                    <a sec:authorize="hasRole('EMPLOYEE')"
                       th:href="@{/employee/buildings}">My Buildings</a>

                </div>
            </div>

            <div class="nav-group nav-user">
                <span class="user-greeting">
                    Hello, <strong sec:authentication="name">User</strong>!
                </span>

                <form th:action="@{/logout}" method="post" class="logout-form">
                    <input type="hidden"
                           th:name="${_csrf.parameterName}"
                           th:value="${_csrf.token}" />
                    <button type="submit" class="logout-button">
                        Logout
                    </button>
                </form>
            </div>
        </div>
    </div>
</nav>

</body>
</html>